subroutine deallocate_all() 
use mod_streams

if (allocated(wv_gpu)) deallocate(wv_gpu)
if (allocated(w_order)) deallocate(w_order)
if (allocated(wallpfield_gpu)) deallocate(wallpfield_gpu)
if (allocated(slicexy_gpu)) deallocate(slicexy_gpu)
if (allocated(vf_df_old)) deallocate(vf_df_old)
if (allocated(uf)) deallocate(uf)
if (allocated(evmax_mat_yz)) deallocate(evmax_mat_yz)
if (allocated(evmax_mat_y)) deallocate(evmax_mat_y)
if (allocated(bulk5g_gpu)) deallocate(bulk5g_gpu)
if (allocated(rtrms_ib_gpu)) deallocate(rtrms_ib_gpu)
if (allocated(rtrms_ib_1d_gpu)) deallocate(rtrms_ib_1d_gpu)
if (allocated(wbuf1s_gpu)) deallocate(wbuf1s_gpu)
if (allocated(wbuf2s_gpu)) deallocate(wbuf2s_gpu)
if (allocated(wbuf3s_gpu)) deallocate(wbuf3s_gpu)
if (allocated(wbuf4s_gpu)) deallocate(wbuf4s_gpu)
if (allocated(wbuf5s_gpu)) deallocate(wbuf5s_gpu)
if (allocated(wbuf6s_gpu)) deallocate(wbuf6s_gpu)
if (allocated(wbuf1r_gpu)) deallocate(wbuf1r_gpu)
if (allocated(wbuf2r_gpu)) deallocate(wbuf2r_gpu)
if (allocated(wbuf3r_gpu)) deallocate(wbuf3r_gpu)
if (allocated(wbuf4r_gpu)) deallocate(wbuf4r_gpu)
if (allocated(wbuf5r_gpu)) deallocate(wbuf5r_gpu)
if (allocated(wbuf6r_gpu)) deallocate(wbuf6r_gpu)
if (allocated(divbuf1s_gpu)) deallocate(divbuf1s_gpu)
if (allocated(divbuf2s_gpu)) deallocate(divbuf2s_gpu)
if (allocated(divbuf3s_gpu)) deallocate(divbuf3s_gpu)
if (allocated(divbuf4s_gpu)) deallocate(divbuf4s_gpu)
if (allocated(divbuf5s_gpu)) deallocate(divbuf5s_gpu)
if (allocated(divbuf6s_gpu)) deallocate(divbuf6s_gpu)
if (allocated(divbuf1r_gpu)) deallocate(divbuf1r_gpu)
if (allocated(divbuf2r_gpu)) deallocate(divbuf2r_gpu)
if (allocated(divbuf3r_gpu)) deallocate(divbuf3r_gpu)
if (allocated(divbuf4r_gpu)) deallocate(divbuf4r_gpu)
if (allocated(divbuf5r_gpu)) deallocate(divbuf5r_gpu)
if (allocated(divbuf6r_gpu)) deallocate(divbuf6r_gpu)
if (allocated(ducbuf1s_gpu)) deallocate(ducbuf1s_gpu)
if (allocated(ducbuf2s_gpu)) deallocate(ducbuf2s_gpu)
if (allocated(ducbuf3s_gpu)) deallocate(ducbuf3s_gpu)
if (allocated(ducbuf4s_gpu)) deallocate(ducbuf4s_gpu)
if (allocated(ducbuf5s_gpu)) deallocate(ducbuf5s_gpu)
if (allocated(ducbuf6s_gpu)) deallocate(ducbuf6s_gpu)
if (allocated(ducbuf1r_gpu)) deallocate(ducbuf1r_gpu)
if (allocated(ducbuf2r_gpu)) deallocate(ducbuf2r_gpu)
if (allocated(ducbuf3r_gpu)) deallocate(ducbuf3r_gpu)
if (allocated(ducbuf4r_gpu)) deallocate(ducbuf4r_gpu)
if (allocated(ducbuf5r_gpu)) deallocate(ducbuf5r_gpu)
if (allocated(ducbuf6r_gpu)) deallocate(ducbuf6r_gpu)
if (allocated(w)) deallocate(w)
if (allocated(fl)) deallocate(fl)
if (allocated(fln)) deallocate(fln)
if (allocated(temperature)) deallocate(temperature)
if (allocated(ducros)) deallocate(ducros)
if (allocated(wmean)) deallocate(wmean)
if (allocated(dcsidx)) deallocate(dcsidx)
if (allocated(dcsidx2)) deallocate(dcsidx2)
if (allocated(dcsidxs)) deallocate(dcsidxs)
if (allocated(detady)) deallocate(detady)
if (allocated(detady2)) deallocate(detady2)
if (allocated(detadys)) deallocate(detadys)
if (allocated(dzitdz)) deallocate(dzitdz)
if (allocated(dzitdz2)) deallocate(dzitdz2)
if (allocated(dzitdzs)) deallocate(dzitdzs)
if (allocated(dcsidxh)) deallocate(dcsidxh)
if (allocated(detadyh)) deallocate(detadyh)
if (allocated(dzitdzh)) deallocate(dzitdzh)
if (allocated(x)) deallocate(x)
if (allocated(y)) deallocate(y)
if (allocated(yn)) deallocate(yn)
if (allocated(yn_gpu)) deallocate(yn_gpu)
if (allocated(z)) deallocate(z)
if (allocated(xg)) deallocate(xg)
if (allocated(coeff_deriv1)) deallocate(coeff_deriv1)
if (allocated(coeff_deriv1s)) deallocate(coeff_deriv1s)
if (allocated(coeff_clap)) deallocate(coeff_clap)
if (allocated(coeff_midpi)) deallocate(coeff_midpi)
if (allocated(cx_midpi)) deallocate(cx_midpi)
if (allocated(cy_midpi)) deallocate(cy_midpi)
if (allocated(cz_midpi)) deallocate(cz_midpi)
if (allocated(fhat)) deallocate(fhat)
if (allocated(ibcnr)) deallocate(ibcnr)
if (allocated(dcoe)) deallocate(dcoe)
if (allocated(winf)) deallocate(winf)
if (allocated(winf1)) deallocate(winf1)
if (allocated(rf)) deallocate(rf)
if (allocated(rfy)) deallocate(rfy)
if (allocated(vf_df)) deallocate(vf_df)
if (allocated(by_df)) deallocate(by_df)
if (allocated(bz_df)) deallocate(bz_df)
if (allocated(amat_df)) deallocate(amat_df)
if (allocated(wallpfield)) deallocate(wallpfield)
if (allocated(slicexy)) deallocate(slicexy)
if (allocated(xh)) deallocate(xh)
if (allocated(yh)) deallocate(yh)
if (allocated(zh)) deallocate(zh)
if (allocated(xgh)) deallocate(xgh)
if (allocated(ygh)) deallocate(ygh)
if (allocated(zgh)) deallocate(zgh)
if (allocated(yplus_inflow)) deallocate(yplus_inflow)
if (allocated(yplus_recyc)) deallocate(yplus_recyc)
if (allocated(eta_inflow)) deallocate(eta_inflow)
if (allocated(eta_recyc)) deallocate(eta_recyc)
if (allocated(map_j_inn)) deallocate(map_j_inn)
if (allocated(map_j_out)) deallocate(map_j_out)
if (allocated(weta_inflow)) deallocate(weta_inflow)
if (allocated(ibc)) deallocate(ibc)
if (allocated(dxg)) deallocate(dxg)
if (allocated(dyg)) deallocate(dyg)
if (allocated(dzg)) deallocate(dzg)
if (allocated(w_av)) deallocate(w_av)
if (allocated(w_avzg)) deallocate(w_avzg)
if (allocated(w_av_1d)) deallocate(w_av_1d)
if (allocated(w_avxzg)) deallocate(w_avxzg)
if (allocated(bx_df)) deallocate(bx_df)
if (allocated(wbuf1s)) deallocate(wbuf1s)
if (allocated(wbuf2s)) deallocate(wbuf2s)
if (allocated(wbuf3s)) deallocate(wbuf3s)
if (allocated(wbuf4s)) deallocate(wbuf4s)
if (allocated(wbuf5s)) deallocate(wbuf5s)
if (allocated(wbuf6s)) deallocate(wbuf6s)
if (allocated(wbuf1r)) deallocate(wbuf1r)
if (allocated(wbuf2r)) deallocate(wbuf2r)
if (allocated(wbuf3r)) deallocate(wbuf3r)
if (allocated(wbuf4r)) deallocate(wbuf4r)
if (allocated(wbuf5r)) deallocate(wbuf5r)
if (allocated(wbuf6r)) deallocate(wbuf6r)
if (allocated(divbuf1s)) deallocate(divbuf1s)
if (allocated(divbuf2s)) deallocate(divbuf2s)
if (allocated(divbuf3s)) deallocate(divbuf3s)
if (allocated(divbuf4s)) deallocate(divbuf4s)
if (allocated(divbuf5s)) deallocate(divbuf5s)
if (allocated(divbuf6s)) deallocate(divbuf6s)
if (allocated(divbuf1r)) deallocate(divbuf1r)
if (allocated(divbuf2r)) deallocate(divbuf2r)
if (allocated(divbuf3r)) deallocate(divbuf3r)
if (allocated(divbuf4r)) deallocate(divbuf4r)
if (allocated(divbuf5r)) deallocate(divbuf5r)
if (allocated(divbuf6r)) deallocate(divbuf6r)
if (allocated(ducbuf1s)) deallocate(ducbuf1s)
if (allocated(ducbuf2s)) deallocate(ducbuf2s)
if (allocated(ducbuf3s)) deallocate(ducbuf3s)
if (allocated(ducbuf4s)) deallocate(ducbuf4s)
if (allocated(ducbuf5s)) deallocate(ducbuf5s)
if (allocated(ducbuf6s)) deallocate(ducbuf6s)
if (allocated(ducbuf1r)) deallocate(ducbuf1r)
if (allocated(ducbuf2r)) deallocate(ducbuf2r)
if (allocated(ducbuf3r)) deallocate(ducbuf3r)
if (allocated(ducbuf4r)) deallocate(ducbuf4r)
if (allocated(ducbuf5r)) deallocate(ducbuf5r)
if (allocated(ducbuf6r)) deallocate(ducbuf6r)
if (allocated(yg)) deallocate(yg)
if (allocated(zg)) deallocate(zg)
if (allocated(wrecyc_gpu)) deallocate(wrecyc_gpu)
if (allocated(wrecycav_gpu)) deallocate(wrecycav_gpu)
if (allocated(tauw_x)) deallocate(tauw_x)
if (allocated(fdm_y_stencil_gpu)) deallocate(fdm_y_stencil_gpu)
if (allocated(fdm_y_stencil)) deallocate(fdm_y_stencil)
if (allocated(fdm_individual_stencil)) deallocate(fdm_individual_stencil)
if (allocated(fdm_grid_points)) deallocate(fdm_grid_points)
#ifdef USE_CUDA
if (allocated(fl_trans_gpu)) deallocate(fl_trans_gpu)
if (allocated(temperature_trans_gpu)) deallocate(temperature_trans_gpu)
if (allocated(fhat_trans_gpu)) deallocate(fhat_trans_gpu)
if (allocated(wv_trans_gpu)) deallocate(wv_trans_gpu)
if (allocated(w_gpu)) deallocate(w_gpu)
if (allocated(fl_gpu)) deallocate(fl_gpu)
if (allocated(fln_gpu)) deallocate(fln_gpu)
if (allocated(temperature_gpu)) deallocate(temperature_gpu)
if (allocated(ducros_gpu)) deallocate(ducros_gpu)
if (allocated(wmean_gpu)) deallocate(wmean_gpu)
if (allocated(dcsidx_gpu)) deallocate(dcsidx_gpu)
if (allocated(dcsidx2_gpu)) deallocate(dcsidx2_gpu)
if (allocated(dcsidxs_gpu)) deallocate(dcsidxs_gpu)
if (allocated(detady_gpu)) deallocate(detady_gpu)
if (allocated(detady2_gpu)) deallocate(detady2_gpu)
if (allocated(detadys_gpu)) deallocate(detadys_gpu)
if (allocated(dzitdz_gpu)) deallocate(dzitdz_gpu)
if (allocated(dzitdz2_gpu)) deallocate(dzitdz2_gpu)
if (allocated(dzitdzs_gpu)) deallocate(dzitdzs_gpu)
if (allocated(dcsidxh_gpu)) deallocate(dcsidxh_gpu)
if (allocated(detadyh_gpu)) deallocate(detadyh_gpu)
if (allocated(dzitdzh_gpu)) deallocate(dzitdzh_gpu)
if (allocated(x_gpu)) deallocate(x_gpu)
if (allocated(y_gpu)) deallocate(y_gpu)
if (allocated(z_gpu)) deallocate(z_gpu)
if (allocated(xg_gpu)) deallocate(xg_gpu)
if (allocated(coeff_deriv1_gpu)) deallocate(coeff_deriv1_gpu)
if (allocated(coeff_deriv1s_gpu)) deallocate(coeff_deriv1s_gpu)
if (allocated(coeff_clap_gpu)) deallocate(coeff_clap_gpu)
if (allocated(coeff_midpi_gpu)) deallocate(coeff_midpi_gpu)
if (allocated(cx_midpi_gpu)) deallocate(cx_midpi_gpu)
if (allocated(cy_midpi_gpu)) deallocate(cy_midpi_gpu)
if (allocated(cz_midpi_gpu)) deallocate(cz_midpi_gpu)
if (allocated(fhat_gpu)) deallocate(fhat_gpu)
if (allocated(ibcnr_gpu)) deallocate(ibcnr_gpu)
if (allocated(dcoe_gpu)) deallocate(dcoe_gpu)
if (allocated(winf_gpu)) deallocate(winf_gpu)
if (allocated(rf_gpu)) deallocate(rf_gpu)
if (allocated(rfy_gpu)) deallocate(rfy_gpu)
if (allocated(vf_df_gpu)) deallocate(vf_df_gpu)
if (allocated(by_df_gpu)) deallocate(by_df_gpu)
if (allocated(bz_df_gpu)) deallocate(bz_df_gpu)
if (allocated(amat_df_gpu)) deallocate(amat_df_gpu)
if (allocated(yplus_inflow_gpu)) deallocate(yplus_inflow_gpu)
if (allocated(yplus_recyc_gpu)) deallocate(yplus_recyc_gpu)
if (allocated(eta_inflow_gpu)) deallocate(eta_inflow_gpu)
if (allocated(eta_recyc_gpu)) deallocate(eta_recyc_gpu)
if (allocated(map_j_inn_gpu)) deallocate(map_j_inn_gpu)
if (allocated(map_j_out_gpu)) deallocate(map_j_out_gpu)
if (allocated(weta_inflow_gpu)) deallocate(weta_inflow_gpu)
if (allocated(gplus_x)) deallocate(gplus_x)
if (allocated(gminus_x)) deallocate(gminus_x)
if (allocated(gplus_y)) deallocate(gplus_y)
if (allocated(gminus_y)) deallocate(gminus_y)
if (allocated(gplus_z)) deallocate(gplus_z)
if (allocated(gminus_z)) deallocate(gminus_z)
#endif
if (allocated(xstat)) deallocate(xstat)
if (allocated(ixstat)) deallocate(ixstat)
if (allocated(igxstat)) deallocate(igxstat)
if (allocated(blowing_bc_slot_velocity)) deallocate(blowing_bc_slot_velocity)
if (allocated(blowing_bc_slot_velocity_gpu)) deallocate(blowing_bc_slot_velocity_gpu)
end subroutine deallocate_all
